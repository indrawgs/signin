<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login with Google and Apple</title>

  <!-- Google Sign-In -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>

  <!-- Apple Sign-In -->
  <script src="https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js"></script>

  <script>
    // Google Login
    function handleGoogleCredentialResponse(response) {
      console.log("Google JWT ID token: " + response.credential);
      // Kirim token ke server backend untuk validasi dan login
    }

    window.onload = function () {
      // Inisialisasi Google Sign-In
      google.accounts.id.initialize({
        client_id: '1029185250778-1to4l9kv4tnu49l5dsgg0gbnjksgphnd.apps.googleusercontent.com',
        callback: handleGoogleCredentialResponse
      });

      google.accounts.id.renderButton(
        document.getElementById('googleButton'),
        { theme: 'outline', size: 'large' }
      );

      google.accounts.id.prompt(); // Tampilkan prompt otomatis

      // Konfigurasi Apple Sign-In
      AppleID.auth.init({
        clientId: 'com.volatile.app',
        scope: 'name email',
        redirectURI: 'https://signin-wheat.vercel.app', 
        // state: 'STATE_PARAMETER', 
        usePopup: true // Jika ingin menggunakan popup,
      });
    };

    // Apple Login
    function handleAppleLogin() {
      AppleID.auth.signIn().then(response => {
        console.log("Apple Token: ", response);
        // Kirim token ke server backend untuk validasi dan login
      }).catch(error => {
        console.error("Apple Sign-In Error: ", error);
      });
    }

    function handleCheck(params) {
        console.log(AppleID);
    }
  </script>
</head>
<body>
  <h1>Login with Google and Apple</h1>
  
  <button onclick="handleCheck()">Check</button>

  <!-- Google Sign-In Button -->
  <div id="googleButton"></div>

  <!-- Apple Sign-In Button -->
  <div id="appleid-signin" class="signin-button" style="margin-top: 20px;">
    <button onclick="handleAppleLogin()">Login with Apple</button>
  </div>

</body>
</html>
